BOISSLyoNCg0KTmFtZTogRW1pbCBMeWtrZSBHcmFubg0KRW1haWw6IGVncmFubjIzQHN0dWRlbnQuYWF1LmRrDQpFZHVjYXRpb246IFNvZnR3YXJlIChTVykNCkFzc2lnbm1lbnQ6IEVrc2FtZW5zIG9wZ2F2ZSAxDQpEZXNjcmlwdGlvbjoNCkNhbGN1bGF0ZXIgd2l0aCBkaWZmZXJlbnQgb3BlcmF0aW9ucy4gVGFraW5nIHVuYXJ5IGFuZCBiaW5hcnkgb3BlcmF0b3JzLg0KVGhlIGNhbGN1bGF0ZXIgaXMgcGVyZm9taW5nIHRoZSBhY3Rpb24gb24gdGhlIHRoZSBhY2N1bXVsYXRvci4NClRoZSBmaW5hbCB2YWx1ZSBvZiB0aGUgYWNjdW11bGF0b3IgaXMgcHJpbnRlZCB3aGVuIHRoZSB1c2VyIGV4aXRzIHRoZSBwcm9ncmFtIHdpdGggJ3EnLg0KDQoqLw0KDQojaW5jbHVkZSA8c3RkaW8uaD4NCiNpbmNsdWRlIDxtYXRoLmg+DQoNCi8vIEFsbCB0aGUgZnVuY3Rpb25zIHByb3RvdHlwZXMNCnZvaWQgc2Nhbl9kYXRhKGNoYXIqLCBkb3VibGUqLCBpbnQqKTsNCnZvaWQgZG9fbmV4dF9vcChjaGFyKiwgZG91YmxlKiwgZG91YmxlKiwgaW50Kik7DQpkb3VibGUgcnVuX2NhbGN1bGF0b3IoKTsNCnZvaWQgcHJpbnRfaGVscCgpOw0KDQppbnQgbWFpbih2b2lkKQ0Kew0KICAgIGRvdWJsZSBmaW5hbFJlc3VsdCA9IHJ1bl9jYWxjdWxhdG9yKCk7DQoNCiAgICBwcmludGYoIkZpbmFsIHJlc3VsdCBpczogJWxmXG4iLCBmaW5hbFJlc3VsdCk7DQoNCiAgICByZXR1cm4gMDsNCn0NCg0KLy8gRnVuY3Rpb24gd2hpY2ggInJ1bnMiIHRoZSBjYWxjdWxhdG9yIGFuZCByZXR1cm5zIHRoZSBmaW5hbCByZXN1bHQNCmRvdWJsZSBydW5fY2FsY3VsYXRvcigpDQp7DQogICAgZG91YmxlIGFjY3VtdWxhdG9yID0gMC4wLCBvcGVyYW5kOw0KICAgIGNoYXIgb3BlcmF0b3I7DQogICAgaW50IGlzVW5hcnkgPSAwOw0KDQogICAgLy8gd2hpbGUgbG9vcCB3aGljaCBydW5zIHVudGlsIHEgaXMgcHJlc3NlZA0KICAgIHdoaWxlIChvcGVyYXRvciE9ICdxJykNCiAgICB7DQogICAgICAgIHNjYW5fZGF0YSgmb3BlcmF0b3IsICYgb3BlcmFuZCwgJmlzVW5hcnkpOw0KICAgICAgICBkb19uZXh0X29wKCZvcGVyYXRvciwgJiBvcGVyYW5kLCAmYWNjdW11bGF0b3IsICZpc1VuYXJ5KTsNCiAgICAgICAgcHJpbnRmKCJSZXN1bHQgc28gZmFyOiAlbGZcbiIsIGFjY3VtdWxhdG9yKTsNCiAgICAgICAgaXNVbmFyeSA9IDA7DQogICAgfQ0KICAgIHJldHVybiBhY2N1bXVsYXRvcjsNCn0NCg0KLy8gU2NhbnMgdGhlIGRhdGEgZnJvbSB0aGUgdXNlcg0Kdm9pZCBzY2FuX2RhdGEoY2hhciAqb3BlcmF0b3IsIGRvdWJsZSAqIG9wZXJhbmQsIGludCAqaXNVbmFyeSkNCnsNCiAgICBwcmludGYoIkVudGVyIG9wZXJhdG9yICgnaCcgZm9yIGhlbHApOiAiKTsNCiAgICBzY2FuZigiICVjIiwgb3BlcmF0b3IpOw0KDQogICAgLy8gRWtzdHJhIGZlYXR1cmUgd2hpY2ggcHJpbnRzIHNvbWUgaGVscGluZyBpbmZvcm1hdGlvbiB0byB0aGUgdXNlciANCiAgICBpZiAoKm9wZXJhdG9yPT0gJ2gnKQ0KICAgIHsNCiAgICAgICAgcHJpbnRfaGVscCgpOw0KICAgIH0NCiAgICBlbHNlIGlmICgqb3BlcmF0b3I9PSAnIycgfHwgKiBvcGVyYXRvcj09ICchJyB8fCAqIG9wZXJhdG9yPT0gJyUnIHx8ICogb3BlcmF0b3I9PSAncScpDQogICAgew0KICAgICAgICAqaXNVbmFyeSA9IDE7DQogICAgICAgICpvcGVyYW5kID0gMC4wOw0KICAgIH0NCiAgICBlbHNlIGlmICgqb3BlcmF0b3I9PSAnKycgfHwgKiBvcGVyYXRvcj09ICctJyB8fCAqIG9wZXJhdG9yPT0gJyonIHx8ICogb3BlcmF0b3I9PSAnLycgfHwgKiBvcGVyYXRvcj09ICdeJykNCiAgICB7DQogICAgICAgIHByaW50ZigiRW50ZXIgb3BlcmFuZDogIik7DQogICAgICAgIHNjYW5mKCIgJWxmIiwgb3BlcmFuZCk7DQogICAgfQ0KICAgIGVsc2UNCiAgICB7DQogICAgICAgIHByaW50ZigiSW5wdXQgd2FzIG5vdCBhbiBvcHRpb24sIHZpZXcgJ2gnIGZvciBoZWxwLlxuIik7DQogICAgICAgIHByaW50ZigiVHJ5IGFnYWluLlxuIik7DQoNCiAgICAgICAgLy8gQ2FsbGluZyB0aGUgZnVuY3Rpb24gaW5zaWRlIGl0c2VsZiB1bnRpbCB0aGUgdXNlciB0eXBlcyBpbiBhIHZhbGlkIG9wZXJhdG9yDQogICAgICAgIHNjYW5fZGF0YShvcGVyYXRvciwgb3BlcmFuZCwgaXNVbmFyeSk7DQogICAgfQ0KfQ0KDQovLyBEb2VzIHRoZSBuZXh0IG9wZXJhdGlvbg0Kdm9pZCBkb19uZXh0X29wKGNoYXIgKm9wZXJhdG9yLCBkb3VibGUgKiBvcGVyYW5kLCBkb3VibGUgKmFjY3VtdWxhdG9yLCBpbnQgKmlzVW5hcnkpDQp7DQogICAgLy8gQ2hlY2tzIGlmIHRoZSBvcGVyYXRvciBpcyB1bmFyeQ0KICAgIGlmICgqaXNVbmFyeSkNCiAgICB7DQogICAgICAgIHN3aXRjaCAoKm9wZXJhdG9yKQ0KICAgICAgICB7DQogICAgICAgIGNhc2UgJyMnOg0KICAgICAgICAgICAgKmFjY3VtdWxhdG9yID0gKmFjY3VtdWxhdG9yIDwgMCA/ICphY2N1bXVsYXRvciA6IHNxcnQoKmFjY3VtdWxhdG9yKTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICclJzoNCiAgICAgICAgICAgICphY2N1bXVsYXRvciAqPSAtMTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICchJzoNCiAgICAgICAgICAgICphY2N1bXVsYXRvciA9ICphY2N1bXVsYXRvciA9PSAwID8gKmFjY3VtdWxhdG9yIDogMSAvICgqYWNjdW11bGF0b3IpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBlbHNlDQogICAgew0KICAgICAgICBzd2l0Y2ggKCpvcGVyYXRvcikNCiAgICAgICAgew0KICAgICAgICBjYXNlICcrJzoNCiAgICAgICAgICAgICphY2N1bXVsYXRvciArPSAqb3BlcmFuZDsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICctJzoNCiAgICAgICAgICAgICphY2N1bXVsYXRvciAtPSAqb3BlcmFuZDsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICcqJzoNCiAgICAgICAgICAgICphY2N1bXVsYXRvciAqPSAqb3BlcmFuZDsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICcvJzoNCiAgICAgICAgICAgICphY2N1bXVsYXRvciAvPSAqb3BlcmFuZDsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdeJzoNCiAgICAgICAgICAgICphY2N1bXVsYXRvciA9IHBvdygqYWNjdW11bGF0b3IsICpvcGVyYW5kKTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCi8vIEVrc3RyYSBmdW5jdGlvbiB3aGljaCBwcmludHMgYWxsIHRoZSBkaWZmZXJlbnQgcG9zc2libGUgb3BlcmF0b3JzIHdoZW4gcHJlc3NpbmcgJ2gnDQp2b2lkIHByaW50X2hlbHAoKQ0Kew0KICAgIHByaW50ZigiXG5CaW5hcnkgb3BlcmF0b3JzIHRvIHVzZTpcbiIpOw0KICAgIHByaW50ZigiKyAgICBmb3IgYWRkaXRpb24gb2YgdGhlIGFjY3VtdWxhdG9yIHdpdGggdGhlIG9wZXJhbmQgZm9yXG4iKTsNCiAgICBwcmludGYoIi0gICAgZm9yIHN1YnRyYWN0aW9uIG9mIHRoZSBhY2N1bXVsYXRvciB3aXRoIHRoZSBvcGVyYW5kXG4iKTsNCiAgICBwcmludGYoIiogICAgZm9yIG11bHRpcGxpY2F0aW9uIG9mIHRoZSBhY2N1bXVsYXRvciB3aXRoIHRoZSBvcGVyYW5kXG4iKTsNCiAgICBwcmludGYoIi8gICAgZm9yIGRpdmlzaW9uIG9mIHRoZSBhY2N1bXVsYXRvciBieSB0aGUgb3BlcmFuZFxuIik7DQogICAgcHJpbnRmKCJeICAgIGZvciByYWlzaW5nIHRoZSBhY2N1bXVsYXRvciB0byB0aGUgcG93ZXIgb2YgdGhlIG9wZXJhbmRcbiIpOw0KICAgIHByaW50ZigiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpOw0KICAgIHByaW50ZigiVW5hcnkgb3BlcmF0b3JzIHRvIHVzZTpcbiIpOw0KICAgIHByaW50ZigiIyAgICBmb3IgdGhlIHNxdWFyZSByb290IG9mIHRoZSBhY2N1bXVsYXRvclxuIik7DQogICAgcHJpbnRmKCIlJSAgIHRvIGNoYW5nZSB0aGUgc2lnbiBvZiB0aGUgYWNjdW11bGF0b3JcbiIpOw0KICAgIHByaW50ZigiISAgICB0byBkaXZpZGUgMSBieSB0aGUgYWNjdW11bGF0b3JcbiIpOw0KICAgIHByaW50ZigicSAgICB0byBxdWl0IHRoZSBjYWxjdWxhdG9yIHdpdGggdGhlIGZpbmFsIHJlc3VsdFxuIik7DQogICAgcHJpbnRmKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4iKTsNCn0=